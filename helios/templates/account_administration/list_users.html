{% extends TEMPLATE_BASE %}

{% load i18n  %}

{% block content %}

<div class="row">
  <div class="col-12">
    <h4>{% trans "Users" %}</h4>
    <table class="table table-striped table-hover" id="elections-table">
      <thead class="table-dark">
    <tr>
        <th>ID</th>
        <th>User ID</b></td>
        <th>{% trans "Name" %}</th>
        <th>{% trans "Institution" %}</th>
        <th>{% trans "User Groups" %}</th>
        <th>{% trans "Is helpdesk user" %}</th>
        <th>{% trans "Elections Held" %}</th>
        <th>{% trans "Details" %}</th>
    </tr>
  </thead>
  <tbody>
    {% for user in users %}
    <tr>
        <td>{{user.id}}</td>
        <td>{{user.user_id}}</td>
        <td>{{user.name}}</td>
        <td>{{user.institution.name}}</td>
        <td>{{user.groups_display}}</td>
        <td>{{user.management_p}}</td>
        <td>{{user.elections.all.count}}</td>
        <td>
            <a class="btn btn-secondary" href={% url "user_management" %}?uid={{user.id}}>

            {% trans "Details" %}</a>
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan=7>{% trans "No results found" %}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
  </div>
</div>
{% endblock content %}
